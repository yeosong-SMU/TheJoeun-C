<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>도서 수정</title>
<script>
	function confirmDelete() {
		if(confirm('정말 삭제하시겠습니까?')) {
			document.form1.action = '/books/delete/' + document.form1.id.value;
			document.form1.submit();
		}
	}
</script>
</head>
<body>
<h2>도서 수정</h2>
<form name="form1" th:action="@{/books/update}" method="post">
	<input type="hidden" name="id" th:value="${book.id}" />
	<p>제목: <input type="text" name="title" th:value="${book.title}" /></p>
	<p>저자: <input type="text" name="author" th:value="${book.author}" /></p>
	<p>카테고리: 
		<select th:field="${book.categoryId}">
			<option th:each="c : ${categoryList}" 
				th:value="${c.id}" th:text="${c.name}"
				th:selected="${c.id == book.categoryId}">
				카테고리
			</option>
		</select>
	</p>
	<button type="submit">수정</button>
	<button type="button" onclick="confirmDelete()">삭제</button>
</form>
</body>
</html>