<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>사원 수정</title>
<script>
function confirmDelete() {
	if(confirm("삭제하시겠습니까?")) {
		location.href = '/employee/delete?id=' + document.getElementById('empId').value;
	}
}
</script>
</head>
<body>
<h2>사원 수정</h2>

<form name="form1" method="post" action="/employee/update">
	<input type="hidden" name="empId" th:value="${emp.empId}" id="empId">
	
	<table>
		<tr>
			<th>이름</th>
			<td><input type="text" name="empName" th:value="${emp.empName}"></td>
		</tr>
		<tr>
			<th>부서</th>
			<td>
				<select name="department.deptId">
					<option th:each="dept : ${departments}" th:value="${dept.deptId}" th:text="${dept.deptName}" th:selected="${dept.deptId == emp.department?.deptId}"></option>
				</select>
			</td>
		</tr>
		<tr>
			<th>직급</th>
			<td><input type="text" name="position" th:value="${emp.position}"></td>
		</tr>
		<tr>
			<th>급여</th>
			<td><input type="number" name="salary" th:value="${emp.salary}"></td>
		</tr>
		<tr>
			<th>입사일</th>
			<td><input type="date" name="hireDate" th:value="${emp.hireDate}"></td>
		</tr>
	</table>
	
	<div style="margin-top: 20px;">
		<button type="submit">수정 저장</button>
		<button type="button" onclick="confirmDelete()">삭제</button>
		<button type="button" onclick="location.href='/employee/list'">목록</button>
	</div>
</form>
</body>
</html>